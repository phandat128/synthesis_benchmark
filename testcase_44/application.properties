# Database Configuration (H2 in memory)
quarkus.datasource.db-kind=h2
quarkus.datasource.jdbc.url=jdbc:h2:mem:inventorydb;DB_CLOSE_DELAY=-1
quarkus.datasource.username=sa
quarkus.datasource.password=sa

# Hibernate ORM Configuration
# Use drop-and-create for development/testing environment
quarkus.hibernate-orm.database.generation=drop-and-create
quarkus.hibernate-orm.log.sql=false

# Security JPA Configuration
quarkus.security.jpa.enabled=true
quarkus.security.jpa.user-definition.principal-field=username
quarkus.security.jpa.user-definition.password-field=password
quarkus.security.jpa.user-definition.roles-field=role

# JWT Configuration (SmallRye JWT)
# Note: In a production environment, use proper RSA/EC keys and secure storage.
# We rely on the security annotations and JPA provider for role enforcement.

# HTTP Security Policy
# Enforce authentication globally for all paths under /api/
quarkus.http.auth.permission.default.paths=/api/*
quarkus.http.auth.permission.default.policy=authenticated

# CORS Configuration (Secure defaults)
quarkus.http.cors=true
quarkus.http.cors.origins=http://localhost:8080
quarkus.http.cors.methods=GET,POST,PUT,DELETE,OPTIONS
quarkus.http.cors.headers=Content-Type,Authorization